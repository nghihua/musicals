{"version":3,"sources":["Navbar.js","MusicalList.js","Home.js","Player.js","Edit.js","MusicalDetails.js","Create.js","App.js","index.js"],"names":["Navbar","className","to","MusicalList","musicals","map","musical","key","name","Home","setMusicals","serverBase","useEffect","axios","get","then","response","data","console","log","catch","error","Player","url","useState","Audio","audio","playing","setPlaying","play","pause","addEventListener","removeEventListener","useAudio","toggle","onClick","Edit","oldName","oldContent","oldImage","oldMusic","setEdit","id","useParams","setName","content","setContent","image","setImage","music","setMusic","useHistory","onSubmit","e","preventDefault","put","window","location","reload","type","required","value","onChange","target","rows","file","document","getElementById","form","FormData","append","files","post","href","MusicalDetails","setMusical","edit","history","src","alt","confirm","delete","alert","push","Create","row","App","path","ReactDOM","render","StrictMode"],"mappings":"gOAceA,EAZA,WACb,OACE,sBAAKC,UAAU,SAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,SAAa,sDACb,sBAAKD,UAAU,QAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAT,kBACA,cAAC,IAAD,CAAMA,GAAG,UAAUD,UAAU,aAA7B,gCCSOE,EAfK,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACrB,OACE,qBAAKH,UAAU,eAAf,SACGG,EAASC,KAAI,SAAAC,GAAO,OACnB,qBAAKL,UAAU,kBAAf,SACE,cAAC,IAAD,CAAMC,GAAE,oBAAeI,EAAQC,KAA/B,SACE,6BAAMD,EAAQE,UAFoBF,EAAQC,W,iBCgBvCE,EAlBF,SAAC,GAAyC,IAAxCL,EAAuC,EAAvCA,SAAUM,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,WAWpC,OATAC,qBAAU,WACRC,IAAMC,IAAIH,GAAYI,MAAK,SAACC,GAC1BN,EAAYM,EAASC,MACrBC,QAAQC,IAAIH,EAASC,SACpBG,OAAM,SAACC,GACRH,QAAQC,IAAIE,QAEb,IAGD,qBAAKpB,UAAU,OAAf,SACIG,GAAY,cAAC,EAAD,CAAaA,SAAUA,EAAUM,YAAaA,EAAaC,WAAYA,O,OCoB5EW,EAVA,SAAC,GAAa,IAC3B,EA1Be,SAACC,GAChB,MAAgBC,mBAAS,IAAIC,MAAMF,IAA5BG,EAAP,oBACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAoBA,OAhBAhB,qBAAU,WACNe,EAAUD,EAAMG,OAASH,EAAMI,UAEjC,CAACH,IAGHf,qBAAU,WAGR,OAFAM,QAAQC,IAAI,iBACZO,EAAMK,iBAAiB,SAAS,kBAAMH,GAAW,MAC1C,WACLA,GAAW,GACXV,QAAQC,IAAI,aAAeQ,GAC3BD,EAAMM,oBAAoB,SAAS,kBAAMJ,GAAW,SAErD,IAEI,CAACD,EAlBO,kBAAMC,GAAYD,KAsBPM,CADA,EAAVV,KAChB,mBAAOI,EAAP,KAAgBO,EAAhB,KAEA,OACE,qBAAKjC,UAAU,SAAf,SACE,wBAAQkC,QAASD,EAAQjC,UAAU,eAAnC,SAAmD0B,EAAU,SAAM,cCoD1DS,EAhFF,SAAC,GAAoE,IAAnEC,EAAkE,EAAlEA,QAASC,EAAyD,EAAzDA,WAAYC,EAA6C,EAA7CA,SAAUC,EAAmC,EAAnCA,SAAU7B,EAAyB,EAAzBA,WAAY8B,EAAa,EAAbA,QACxDC,EAAOC,cAAPD,GACR,EAAwBlB,mBAASa,GAAjC,mBAAO7B,EAAP,KAAaoC,EAAb,KACA,EAA8BpB,mBAASc,GAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KACA,EAA0BtB,mBAASe,GAAnC,mBAAOQ,EAAP,KAAcC,EAAd,KACA,EAA0BxB,mBAASgB,GAAnC,mBAAOS,EAAP,KAAcC,EAAd,KACgBC,cAsClB,OACE,sBAAKlD,UAAU,SAAf,UACE,8CACA,uBAAMmD,SAtCa,SAACC,GAClBnC,QAAQC,IAAI,gBACZkC,EAAEC,iBACF,IAAMhD,EAAU,CAACE,OAAMqC,UAASE,QAAOE,SACvCpC,IAAM0C,IAAN,UAAa5C,EAAb,YAA2B+B,GAAMpC,GAASS,MAAK,SAACC,GAC5CE,QAAQC,IAAIH,MACbI,OAAM,SAACC,GACNH,QAAQC,IAAR,sBAA2BE,OAE/BoB,GAAQ,GACRe,OAAOC,SAASC,UA4BlB,UACE,kDACA,uBACEC,KAAK,OACLC,UAAQ,EACRC,MAAOrD,EACPsD,SAAU,SAACT,GAAD,OAAOT,EAAQS,EAAEU,OAAOF,UAEpC,6CACA,0BACEG,KAAK,KACLJ,UAAQ,EACRC,MAAOhB,EACPiB,SAAU,SAACT,GAAD,OAAOP,EAAWO,EAAEU,OAAOF,UAEvC,uBAAOnB,GAAG,MAAV,oBACA,uBAAOiB,KAAK,OAAOjB,GAAG,YAAYoB,SAzCnB,WACf,IAAIG,EAAOC,SAASC,eAAe,aAC/BC,EAAO,IAAIC,SAEfD,EAAKE,OAAO,QAASL,EAAKM,MAAM,IAWhC1D,IAAM2D,KATM,sEASMJ,EARL,CACb,QAAW,EACX,aAAe,EACf,SAAY,sBACZ,aAAe,IAIiBrD,MAAK,SAACC,GAClCgC,EAAShC,EAASC,KAAKA,KAAKM,QAC7BH,OAAM,SAACC,GACNH,QAAQC,IAAR,sBAA2BE,UAwB/B,gFACmC,mBAAGoD,KAAK,4BAAR,0BADnC,+FAIA,uBACEd,KAAK,OACLC,UAAQ,EACRC,MAAOZ,EACPa,SAAU,SAACT,GAAD,OAAOH,EAASG,EAAEU,OAAOF,UAErC,mDCDOa,EAtEQ,SAAC,GAAkB,IAAjB/D,EAAgB,EAAhBA,WACf+B,EAAOC,cAAPD,GACR,EAA8BlB,qBAA9B,mBAAOlB,EAAP,KAAgBqE,EAAhB,KACA,EAAwBnD,oBAAS,GAAjC,mBAAOoD,EAAP,KAAanC,EAAb,KACMoC,EAAU1B,cA4BhB,OATAvC,qBAAU,WACRC,IAAMC,IAAN,UAAaH,EAAb,YAA2B+B,IAAM3B,MAAK,SAACC,GACrC2D,EAAW3D,EAASC,KAAK,IACzBC,QAAQC,IAAIH,EAASC,KAAK,OACzBG,OAAM,SAACC,GACRH,QAAQC,IAAIE,QAEb,IAGD,8BACIf,GACA,sBAAKL,UAAU,kBAAf,UACE,cAAC,EAAD,CAAQsB,IAAMjB,EAAQ2C,QACtB,sBAAKhD,UAAU,kBAAf,UACE,qBAAKA,UAAU,aAAf,SACE,qBACEA,UAAY,gBACZ6E,IAAMxE,EAAQyC,MACdgC,IAAI,UAGR,sBAAK9E,UAAU,cAAf,UACE,sBAAKA,UAAU,oBAAf,WACI2E,GACA,wBAAQzC,QAAS,WAAMM,GAAQ,IAASxC,UAAU,cAAlD,gCAED2E,GACC,wBAAQzC,QAAS,WAAMM,GAAQ,IAAUxC,UAAU,cAAnD,gCAEF,wBAAQkC,QA/CF,WACdqB,OAAOwB,QAAQ,sCACjBnE,IACCoE,OADD,UACWtE,EADX,YACyB+B,IACxB3B,MAAK,WACJmE,MAAM,iBACNP,EAAW,SACVvD,OAAM,SAACC,GACRH,QAAQC,IAAIE,MAEdwD,EAAQM,KAAK,KACb3B,OAAOC,SAASC,WAoCwBzD,UAAU,gBAAxC,sCAEA2E,GACA,gCACE,6BAAMtE,EAAQE,OACd,qBAAKP,UAAU,kBAAf,SAAmCK,EAAQuC,aAG9C+B,GAAQ,cAAC,EAAD,CAAMvC,QAAS/B,EAAQE,KAAM8B,WAAYhC,EAAQuC,QAASN,SAAUjC,EAAQyC,MAAOP,SAAUlC,EAAQ2C,MAAOtC,WAAYA,EAAY8B,QAASA,gBCerJ2C,EA/EA,SAAC,GAAwC,EAAvChF,SAAuC,EAA7BM,YAA8B,IAAjBC,EAAgB,EAAhBA,WACtC,EAAwBa,mBAAS,IAAjC,mBAAOhB,EAAP,KAAaoC,EAAb,KACA,EAA8BpB,mBAAS,IAAvC,mBAAOqB,EAAP,KAAgBC,EAAhB,KACA,EAA0BtB,mBAAS,IAAnC,mBAAOuB,EAAP,KAAcC,EAAd,KACA,EAA0BxB,qBAA1B,mBAAOyB,EAAP,KAAcC,EAAd,KACM2B,EAAU1B,cAsChB,OACE,sBAAKlD,UAAU,SAAf,UACE,mDACA,uBAAMmD,SArCW,SAACC,GACpBA,EAAEC,iBACF,IAAMhD,EAAU,CAACE,OAAMqC,UAASE,QAAOE,SACvCpC,IAAM2D,KAAK7D,EAAYL,GAASS,MAAK,SAACC,GAClCE,QAAQC,IAAIH,MACbI,OAAM,SAACC,GACJH,QAAQC,IAAR,sBAA2BE,OAEjCwD,EAAQM,KAAK,KACb3B,OAAOC,SAASC,UA4Bd,UACE,kDACA,uBACEC,KAAK,OACLC,UAAQ,EACRC,MAAOrD,EACPsD,SAAU,SAACT,GAAD,OAAOT,EAAQS,EAAEU,OAAOF,UAEpC,6CACA,0BACEwB,IAAI,KACJzB,UAAQ,EACRC,MAAOhB,EACPiB,SAAU,SAACT,GAAD,OAAOP,EAAWO,EAAEU,OAAOF,UAEvC,uBAAOnB,GAAG,MAAV,oBACA,uBAAOiB,KAAK,OAAOjB,GAAG,YAAYoB,SAzCnB,WACf,IAAIG,EAAOC,SAASC,eAAe,aAC/BC,EAAO,IAAIC,SAEfD,EAAKE,OAAO,QAASL,EAAKM,MAAM,IAWhC1D,IAAM2D,KATM,sEASMJ,EARL,CACb,QAAW,EACX,aAAe,EACf,SAAY,sBACZ,aAAe,IAIiBrD,MAAK,SAACC,GAClCgC,EAAShC,EAASC,KAAKA,KAAKM,QAC7BH,OAAM,SAACC,GACNH,QAAQC,IAAR,sBAA2BE,UAwB/B,gFACmC,mBAAGoD,KAAK,4BAAR,0BADnC,+FAIA,uBACEd,KAAK,OACLC,UAAQ,EACRC,MAAOZ,EACPa,SAAU,SAACT,GAAD,OAAOH,EAASG,EAAEU,OAAOF,UAErC,mDCpEFlD,EAAa,iCA2BJ2E,MAzBf,WACE,MAAgC9D,qBAAhC,mBAAOpB,EAAP,KAAiBM,EAAjB,KAEA,OACE,cAAC,IAAD,UACE,sBAAKT,UAAU,MAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,UAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsF,KAAK,gBAAZ,SACE,cAAC,EAAD,CAAgBnF,SAAUA,EAAUM,YAAaA,EAAaC,WAAYA,MAE5E,cAAC,IAAD,CAAO4E,KAAK,UAAZ,SACE,cAAC,EAAD,CAAQnF,SAAUA,EAAUM,YAAaA,EAAaC,WAAYA,MAEpE,cAAC,IAAD,CAAO4E,KAAK,IAAZ,SACE,cAAC,EAAD,CAAMnF,SAAUA,EAAUM,YAAaA,EAAaC,WAAYA,iBCtB9E6E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxB,SAASC,eAAe,W","file":"static/js/main.7931e771.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar\">\n      <Link to=\"/\"><h1>The Musical Review</h1></Link>\n      <div className=\"links\">\n        <Link to=\"/\">Home</Link>\n        <Link to=\"/create\" className=\"new-button\">New Musical</Link>\n      </div>\n    </nav>\n  );\n}\n \nexport default Navbar;","import { Link } from 'react-router-dom';\n\nconst MusicalList = ({ musicals }) => {\n  return (\n    <div className=\"musical-list\">\n      {musicals.map(musical => (\n        <div className=\"musical-preview\" key={musical.key} >\n          <Link to={`/musicals/${musical.key}`}>\n            <h2>{ musical.name }</h2>\n            {/* <p>Written by { blog.author }</p> */}\n          </Link>\n        </div>\n      ))}\n    </div>\n  );\n}\n \nexport default MusicalList;","import MusicalList from \"./MusicalList\";\nimport {useEffect} from  'react';\nimport axios from 'axios';\n\nconst Home = ({musicals, setMusicals, serverBase}) => {\n\n  useEffect(() => {\n    axios.get(serverBase).then((response) => {\n      setMusicals(response.data);\n      console.log(response.data);\n    }).catch((error) => {\n      console.log(error);\n    });\n  }, []);\n\n  return (\n    <div className=\"home\">\n      { musicals && <MusicalList musicals={musicals} setMusicals={setMusicals} serverBase={serverBase}/> }\n    </div>\n  );\n}\n \nexport default Home;","import React, { useState, useEffect } from \"react\";\n\nconst useAudio = (url) => {\n  const [audio] = useState(new Audio(url));\n  const [playing, setPlaying] = useState(true);\n\n  const toggle = () => setPlaying(!playing);\n\n  useEffect(() => {\n      playing ? audio.play() : audio.pause();\n    },\n    [playing]\n  );\n\n  useEffect(() => {\n    console.log(\"player loaded\");\n    audio.addEventListener('ended', () => setPlaying(false));\n    return () => {\n      setPlaying(false);\n      console.log(\"player out\" + playing);\n      audio.removeEventListener('ended', () => setPlaying(false));\n    };\n  }, []);\n\n  return [playing, toggle];\n};\n\nconst Player = ({ url }) => {\n  const [playing, toggle] = useAudio(url);\n\n  return (\n    <div className=\"player\">\n      <button onClick={toggle} className=\"audio-button\">{playing ? \"⏸\" : \"▷\"}</button>\n    </div>\n  );\n};\n\nexport default Player;","import { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nconst Edit = ({oldName, oldContent, oldImage, oldMusic, serverBase, setEdit}) => {\n    const { id } = useParams();\n    const [name, setName] = useState(oldName);\n    const [content, setContent] = useState(oldContent);\n    const [image, setImage] = useState(oldImage);\n    const [music, setMusic] = useState(oldMusic);\n    const history = useHistory();\n\n\n    const handleSubmit = (e) => {\n        console.log('Handle edit!');\n        e.preventDefault();\n        const musical = {name, content, image, music};\n        axios.put(`${serverBase}/${id}`, musical).then((response) => {\n            console.log(response);\n        }).catch((error) => {\n            console.log(`Error here: ${error}`);\n        });\n        setEdit(false);\n        window.location.reload();\n    }\n\n    const fileChange = () => {\n        let file = document.getElementById('input_img');\n        let form = new FormData();\n\n        form.append(\"image\", file.files[0])\n\n        let imgbb = \"https://api.imgbb.com/1/upload?key=ae0b2df60c0f04a52ed1be38b3a78be6\";    \n        let config = {\n        \"timeout\": 0,\n        \"processData\": false,\n        \"mimeType\": \"multipart/form-data\",\n        \"contentType\": false,\n        };\n\n\n        axios.post(imgbb, form, config).then((response) => {\n            setImage(response.data.data.url);\n        }).catch((error) => {\n            console.log(`Error here: ${error}`);\n        });\n    };\n\n  return (\n    <div className=\"create\">\n      <h2>Edit Musical</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Musical name:</label>\n        <input \n          type=\"text\" \n          required \n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <label>Content:</label>\n        <textarea\n          rows='10'\n          required\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n        ></textarea>\n        <label id=\"bbb\">Image:</label>\n        <input type=\"file\" id=\"input_img\" onChange={fileChange}/>\n        <label>Music Link:\n            (Please signup and upload onto <a href=\"https://mailboxdrive.com/\">MailboxDrive</a>, then paste the link here.\n            Please upload instrumental covers, no copyrighted materials.)\n        </label>\n        <input \n          type=\"text\" \n          required \n          value={music}\n          onChange={(e) => setMusic(e.target.value)}\n        />\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n}\n \nexport default Edit;","import { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {useState, useEffect} from  'react';\nimport { useHistory } from \"react-router-dom\";\nimport Player from \"./Player\";\nimport Edit from \"./Edit\";\n\nconst MusicalDetails = ({serverBase}) => {\n  const { id } = useParams();\n  const [musical, setMusical] = useState();\n  const [edit, setEdit] = useState(false);\n  const history = useHistory();\n\n  const handleClick = () => {\n    if (window.confirm(\"Are you sure you want to delete?\")) {\n      axios\n      .delete(`${serverBase}/${id}`)\n      .then(() => {\n        alert(\"Post deleted!\");\n        setMusical(null)\n      }).catch((error) => {\n        console.log(error);\n      });\n      history.push('/');\n      window.location.reload();\n    }\n    else {\n    }\n  }\n\n  useEffect(() => {\n    axios.get(`${serverBase}/${id}`).then((response) => {\n      setMusical(response.data[0]);\n      console.log(response.data[0]);\n    }).catch((error) => {\n      console.log(error);\n    });\n  }, []);\n\n  return (\n    <div>\n      { musical && (\n        <div className=\"musical-details\">\n          <Player url={ musical.music }/>\n          <div className=\"split-container\">\n            <div className=\"split left\">\n              <img \n                className = \"musical-image\"\n                src={ musical.image }\n                alt=\"new\"\n              />\n            </div>\n            <div className=\"split right\">\n              <div className=\"buttons-container\">\n                {!edit && \n                  <button onClick={()=> {setEdit(true);}} className=\"edit-button\">✏️  EDIT</button>\n                }\n                {edit &&\n                  <button onClick={()=> {setEdit(false);}} className=\"edit-button\">✖  CLOSE EDIT</button>\n                }\n                <button onClick={handleClick} className=\"delete-button\">⚠️  DELETE</button>\n              </div>\n              {!edit && \n                <div>\n                  <h2>{ musical.name }</h2>\n                  <div className=\"musical-content\">{ musical.content }</div>\n                </div>\n              }\n              {edit && <Edit oldName={musical.name} oldContent={musical.content} oldImage={musical.image} oldMusic={musical.music} serverBase={serverBase} setEdit={setEdit}/>}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n \nexport default MusicalDetails;","import { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Create = ({musicals, setMusicals, serverBase}) => {\n  const [name, setName] = useState('');\n  const [content, setContent] = useState('');\n  const [image, setImage] = useState('');\n  const [music, setMusic] = useState();\n  const history = useHistory();\n\n  let image_url = \"\";\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const musical = {name, content, image, music};\n    axios.post(serverBase, musical).then((response) => {\n        console.log(response);\n    }).catch((error) => {\n          console.log(`Error here: ${error}`);\n    });\n    history.push('/');\n    window.location.reload();\n  }\n\n    const fileChange = () => {\n        let file = document.getElementById('input_img');\n        let form = new FormData();\n\n        form.append(\"image\", file.files[0])\n\n        let imgbb = \"https://api.imgbb.com/1/upload?key=ae0b2df60c0f04a52ed1be38b3a78be6\";    \n        let config = {\n        \"timeout\": 0,\n        \"processData\": false,\n        \"mimeType\": \"multipart/form-data\",\n        \"contentType\": false,\n        };\n\n\n        axios.post(imgbb, form, config).then((response) => {\n            setImage(response.data.data.url);\n        }).catch((error) => {\n            console.log(`Error here: ${error}`);\n        });\n    };\n\n  return (\n    <div className=\"create\">\n      <h2>Add a New Musical</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Musical name:</label>\n        <input \n          type=\"text\" \n          required \n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <label>Content:</label>\n        <textarea\n          row='10'\n          required\n          value={content}\n          onChange={(e) => setContent(e.target.value)}\n        ></textarea>\n        <label id=\"bbb\">Image:</label>\n        <input type=\"file\" id=\"input_img\" onChange={fileChange}/>\n        <label>Music Link:\n            (Please signup and upload onto <a href=\"https://mailboxdrive.com/\">MailboxDrive</a>, then paste the link here.\n            Please upload instrumental covers, no copyrighted materials.)\n        </label>\n        <input \n          type=\"text\" \n          required \n          value={music}\n          onChange={(e) => setMusic(e.target.value)}\n        />\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n}\n \nexport default Create;","import './App.css';\nimport { useState } from 'react';\nimport Navbar from './Navbar';\nimport Home from './Home';\nimport MusicalDetails from './MusicalDetails';\nimport Create from './Create';\nimport NotFound from './NotFound';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nconst serverBase = \"http://localhost:8000/musicals\";\n\nfunction App() {\n  const [musicals, setMusicals] = useState();\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <div className=\"content\">\n          <Switch>\n            <Route path=\"/musicals/:id\">\n              <MusicalDetails musicals={musicals} setMusicals={setMusicals} serverBase={serverBase}/>\n            </Route>\n            <Route path=\"/create\">\n              <Create musicals={musicals} setMusicals={setMusicals} serverBase={serverBase}/>\n            </Route>\n            <Route path=\"/\">\n              <Home musicals={musicals} setMusicals={setMusicals} serverBase={serverBase}/>\n            </Route>\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}